webpackJsonp([18,45,47,48],{8:function(t,n,e){n=t.exports=e(1)(),n.push([t.id,".mint-toast{position:fixed;max-width:80%;border-radius:5px;background:rgba(0,0,0,.7);color:#fff;box-sizing:border-box;text-align:center;z-index:1000;transition:opacity .3s linear}.mint-toast.is-placebottom{bottom:50px;left:50%;transform:translate(-50%)}.mint-toast.is-placemiddle{left:50%;top:50%;transform:translate(-50%,-50%)}.mint-toast.is-placetop{top:50px;left:50%;transform:translate(-50%)}.mint-toast-icon{display:block;text-align:center;font-size:56px}.mint-toast-text{font-size:14px;display:block;text-align:center}.mint-toast-pop-enter,.mint-toast-pop-leave-active{opacity:0}","",{version:3,sources:["/./node_modules/_mint-ui@2.2.13@mint-ui/lib/toast/style.css"],names:[],mappings:"AACA,YACI,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,0BAA+B,AAC/B,WAAY,AACZ,sBAAuB,AACvB,kBAAmB,AACnB,aAAc,AAEd,6BAA8B,CACjC,AACD,2BACI,YAAa,AACb,SAAU,AAEF,yBAA6B,CACxC,AACD,2BACI,SAAU,AACV,QAAS,AAED,8BAAgC,CAC3C,AACD,wBACI,SAAU,AACV,SAAU,AAEF,yBAA6B,CACxC,AACD,iBACI,cAAe,AACf,kBAAmB,AACnB,cAAe,CAClB,AACD,iBACI,eAAgB,AAChB,cAAe,AACf,iBAAkB,CACrB,AACD,mDACI,SAAU,CACb",file:"style.css",sourcesContent:["\n.mint-toast {\n    position: fixed;\n    max-width: 80%;\n    border-radius: 5px;\n    background: rgba(0, 0, 0, 0.7);\n    color: #fff;\n    box-sizing: border-box;\n    text-align: center;\n    z-index: 1000;\n    -webkit-transition: opacity .3s linear;\n    transition: opacity .3s linear\n}\n.mint-toast.is-placebottom {\n    bottom: 50px;\n    left: 50%;\n    -webkit-transform: translate(-50%, 0);\n            transform: translate(-50%, 0)\n}\n.mint-toast.is-placemiddle {\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%)\n}\n.mint-toast.is-placetop {\n    top: 50px;\n    left: 50%;\n    -webkit-transform: translate(-50%, 0);\n            transform: translate(-50%, 0)\n}\n.mint-toast-icon {\n    display: block;\n    text-align: center;\n    font-size: 56px\n}\n.mint-toast-text {\n    font-size: 14px;\n    display: block;\n    text-align: center\n}\n.mint-toast-pop-enter, .mint-toast-pop-leave-active {\n    opacity: 0\n}\n"],sourceRoot:"webpack://"}])},9:function(t,n,e){var a=e(8);"string"==typeof a&&(a=[[t.id,a,""]]);e(2)(a,{});a.locals&&(t.exports=a.locals)},17:function(t,n,e){e(24);var a=e(3)(e(21),e(25),null,null);t.exports=a.exports},21:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"my-image",props:{imgUrl:{type:String}},computed:{imgObj:function(){return this.imgUrl+"?imageView2/0/w/200"}}}},23:function(t,n,e){n=t.exports=e(1)(),n.push([t.id,".img-container{text-align:left;position:relative}.img-container img{width:100%;height:100%;position:absolute}.img-container.fade img[lazy=loaded]{animation-duration:1s;animation-fill-mode:both;animation-name:fadeIn}.img-container img[lazy=loading]{width:.2rem!important;height:.2rem!important;left:50%;top:50%;transform:translate(-50%,-50%)}.img-container img[lazy=error]{border-radius:2px;animation-duration:1s;animation-fill-mode:both;animation-name:fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["/./src/components/lazyloadImg/lazyImage.vue"],names:[],mappings:"AACA,eACE,gBAAiB,AACjB,iBAAmB,CACpB,AACD,mBACE,WAAY,AACZ,YAAa,AACb,iBAAmB,CACpB,AACD,qCAEE,sBAAuB,AAEvB,yBAA0B,AAE1B,qBAAuB,CACxB,AACD,iCACE,sBAAyB,AACzB,uBAA0B,AAC1B,SAAU,AACV,QAAS,AAGD,8BAAiC,CAC1C,AACD,+BACE,kBAAmB,AAEnB,sBAAuB,AAEvB,yBAA0B,AAE1B,qBAAuB,CACxB,AAyBD,kBACA,GACI,SAAW,CACd,AACD,GACI,SAAW,CACd,CACA",file:"lazyImage.vue",sourcesContent:["\n.img-container {\n  text-align: left;\n  position: relative;\n}\n.img-container img {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n.img-container.fade img[lazy='loaded'] {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  -webkit-animation-name: fadeIn;\n  animation-name: fadeIn;\n}\n.img-container img[lazy='loading'] {\n  width: 0.2rem !important;\n  height: 0.2rem !important;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n      -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.img-container img[lazy='error'] {\n  border-radius: 2px;\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  -webkit-animation-name: fadeIn;\n  animation-name: fadeIn;\n}\n@-webkit-keyframes fadeIn {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@keyframes fadeIn {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@-webkit-keyframes fadeIn {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}\n@keyframes fadeIn {\nfrom {\n    opacity: 0;\n}\nto {\n    opacity: 1;\n}\n}"],sourceRoot:"webpack://"}])},24:function(t,n,e){var a=e(23);"string"==typeof a&&(a=[[t.id,a,""]]);e(2)(a,{});a.locals&&(t.exports=a.locals)},25:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"img-container"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgObj,expression:"imgObj"}],attrs:{lazy:"loading"}})])},staticRenderFns:[]}},48:function(t,n,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(35),o=a(i),r=e(6),s=a(r);n.default={payGoodMan:"ok man",payPam:{},PayParent:null,GetPayCode:function(t){var n=this;n.setCookie("payMsg",t),n.setCookieMin("buyState","paycode",.5),window.location.href=o.default.state.domainUrl+"wxapi/Pay/example/oauth2.php?tourl="+o.default.state.path+"payback.html"},payHandle:function(t,n){this.PayParent=n;var e=this,a=e.getCookie("buyState");if(console.log("codestate = "+a),"waitpayToServer"==a){console.log("ttt = "+e.getCookie("payMsg")+"type="+t.dptype+"cli="+t.clientid+"sid="+t.salesmanid),e.setCookie("buyState","payToServer");var i=e.getCookie("paycode");console.log("codes = "+i),console.log("amxl_extid="+e.getCookie("amxl_extid"));var r="",A=t.types,c={};if("GoodsPayParam"==A){var d=t.uid,l=t.gid,m=e.getCookie("amxl_extid");c={type:A,goodsid:l,userid:d,code:i,num:t.num,extid:m},r=o.default.state.domainUrl+"wxapi/Pay/example/pay.php"}else"DepositPayParam"==A&&(c={type:A,dptype:t.dptype,clientid:t.clientid,salesmanid:t.salesmanid,code:i},r=o.default.state.domainUrl+"wxapi/Pay/example/pay.php");s.default.prototype.$http.post(r,c).then(function(t){var n=t.body,a=n;return console.log("atk="+a),e.payPam=n,"ok"!=e.payPam.error?void alert(e.payPam.error):void e.callpay()}).catch(function(t){console.log(t)})}},editAddress:function(t){var n=this;WeixinJSBridge.invoke("editAddress",t,function(t){t.proviceFirstStageName,t.addressCitySecondStageName,t.addressCountiesThirdStageName,t.addressDetailInfo,t.telNumber;n.callpay()})},jsApiCall:function(){var t=this;WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(t.payPam.jsapi),function(n){WeixinJSBridge.log(n.err_msg),"get_brand_wcpay_request:ok"==n.err_msg&&t.PayParent&&t.PayParent.PaySuccess()})},callpay:function(){var t=this;"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t.jsApiCall,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t.jsApiCall),document.attachEvent("onWeixinJSBridgeReady",t.jsApiCall)):t.jsApiCall()},getQueryString:function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(n);return null!=e?unescape(e[2]):null},setCookieMin:function(t,n,e){var a=new Date;a.setTime(a.getTime()+60*e*1e3),document.cookie=t+"="+escape(n)+";expires="+a.toGMTString()},setCookie:function(t,n){var e=30,a=new Date;a.setTime(a.getTime()+24*e*60*60*1e3),document.cookie=t+"="+escape(n)+";expires="+a.toGMTString()},getCookie:function(t){var n,e=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(n=document.cookie.match(e))?unescape(n[2]):null}}},195:function(t,n,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(5),o=a(i),r=e(48),s=a(r),A=e(17),c=a(A),d=e(6),l=a(d),m=e(7);e(16),e(9);var p=e(4);l.default.component(m.Button.name,m.Button),l.default.component(m.Toast.name,m.Toast),n.default={name:"v-card",props:{data:{type:Object}},components:{myImage:c.default},created:function(){},methods:{clickDetailsHandle:function(t){this.$store.commit("UPDATE_CURMEALDATA",this.data),this.$router.push({name:"details"})},buyHandle:function(t){return this.token?void(parseInt(this.role)>2?(0,m.Toast)({message:"您的身份不能购买此产品！",iconClass:"iconfont icon-tishi1",duration:2e3}):this.jumpToPayPage()):void this.$router.push({path:"/login"})},jumpToPayPage:function(){var t="userid:"+this.userid+",goodsid:"+this.data.cardId+",num:1,types:GoodsPayParam";s.default.GetPayCode(t)}},computed:(0,o.default)({},(0,p.mapState)(["openid","role","phoneno","userid","token"]))}},197:function(t,n,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(5),o=a(i),r=e(423),s=a(r),A=e(4);n.default={name:"discount-combine",data:function(){return{mealArr:null,isLoadDb:!1}},components:{vCard:s.default},watch:{token:"getMealData"},activated:function(){document.body.scrollTop=0,this.isLoadDb&&this.$store.dispatch("toggleLoading",!1)},created:function(){this.getMealData()},beforeRouteLeave:function(t,n,e){e()},methods:{getMealData:function(){var t=this;this.$http.post(this.path+"php/ttl/goodsFunction.php",{type:"goodslist",userid:this.userid,openid:this.openid,page:0}).then(function(n){var e=n.body,a=[];for(var i in e){if("error"==i)break;var o=e[i],r={};r.type=o.type,r.price=o.price,r.cardId=o.id+"",r.name=o.gname,r.slogan=o.message,r.imgUrl=t.path+o.icon,r.hasBuy=!Boolean(o.iscanbuy),a.push(r),t.mealArr=a,t.isLoadDb=!0,t.$store.dispatch("toggleLoading",!1)}}).catch(function(n){t.$store.dispatch("toggleLoading",!1),console.log(n)})}},computed:(0,o.default)({},(0,A.mapState)(["openid","path","userid","token"]))}},317:function(t,n,e){n=t.exports=e(1)(),n.push([t.id,".discount-container[data-v-54175306]{width:100%;-ms-flex:1;flex:1;padding-bottom:.43rem}.discount-container ul[data-v-54175306]{padding:.1rem .1rem 0}.discount-container ul li[data-v-54175306]{width:100%;margin-bottom:.05rem;box-shadow:0 1px 0 hsla(0,0%,59%,.1)}","",{version:3,sources:["/./src/components/mainView/combine/discountCombine.vue"],names:[],mappings:"AACA,qCACE,WAAY,AAGR,WAAY,AACR,OAAQ,AAChB,qBAAwB,CACzB,AACD,wCACE,qBAAgC,CACjC,AACD,2CACE,WAAY,AACZ,qBAAuB,AACvB,oCAA4C,CAC7C",file:"discountCombine.vue",sourcesContent:["\n.discount-container[data-v-54175306] {\n  width: 100%;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  padding-bottom: 0.43rem;\n}\n.discount-container ul[data-v-54175306] {\n  padding: 0.1rem 0.1rem 0 0.1rem;\n}\n.discount-container ul li[data-v-54175306] {\n  width: 100%;\n  margin-bottom: 0.05rem;\n  box-shadow: 0 1px 0px rgba(150,150,150,0.1);\n}"],sourceRoot:"webpack://"}])},331:function(t,n,e){n=t.exports=e(1)(),n.push([t.id,".card{background:#fefefe;padding:.1rem .1rem 0;box-sizing:border-box}.card .my-img{width:100%;height:1.4rem;background-color:#f1f1f1}.card .card-content{width:100%;height:.5rem;color:#000;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.card .card-content .left .name{font-size:.14rem;font-weight:600;letter-spacing:.005rem}.card .card-content .left .slogan{margin-top:.04rem;font-size:.13rem;color:#898989;letter-spacing:.005rem}.card .card-content .right{margin-top:.04rem}.card .card-content .right .btn{font-size:.13rem;height:.28rem;box-shadow:none;letter-spacing:.005rem}.card .card-content .right .btn.info{margin-right:.03rem;background-color:#dcdddd;color:#a4a5a5}.card .card-content .right .btn.has-buy{font-size:.13rem;border:1px solid #dcdddd}.card .card-content .right .btn.buy{background-color:#fff798;color:#595656}","",{version:3,sources:["/./src/components/mainView/combine/card.vue"],names:[],mappings:"AACA,MACE,mBAAoB,AACpB,sBAAgC,AAChC,qBAAuB,CACxB,AACD,cACE,WAAY,AACZ,cAAe,AACf,wBAA0B,CAC3B,AACD,oBACE,WAAY,AACZ,aAAe,AACf,WAAY,AAGZ,oBAAqB,AACrB,aAAc,AAGV,sBAAuB,AACnB,mBAAoB,AAGxB,sBAAuB,AACnB,6BAA+B,CACxC,AACD,gCACE,iBAAmB,AACnB,gBAAiB,AACjB,sBAAyB,CAC1B,AACD,kCACE,kBAAoB,AACpB,iBAAmB,AACnB,cAAe,AACf,sBAAyB,CAC1B,AACD,2BACE,iBAAoB,CACrB,AACD,gCACE,iBAAmB,AACnB,cAAgB,AAChB,gBAAiB,AACjB,sBAAyB,CAC1B,AACD,qCACE,oBAAsB,AACtB,yBAA0B,AAC1B,aAAe,CAChB,AACD,wCACE,iBAAmB,AACnB,wBAA0B,CAC3B,AACD,oCACE,yBAA0B,AAC1B,aAAe,CAChB",file:"card.vue",sourcesContent:["\n.card {\n  background: #fefefe;\n  padding: 0.1rem 0.1rem 0 0.1rem;\n  box-sizing: border-box;\n}\n.card .my-img {\n  width: 100%;\n  height: 1.4rem;\n  background-color: #f1f1f1;\n}\n.card .card-content {\n  width: 100%;\n  height: 0.5rem;\n  color: #000;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.card .card-content .left .name {\n  font-size: 0.14rem;\n  font-weight: 600;\n  letter-spacing: 0.005rem;\n}\n.card .card-content .left .slogan {\n  margin-top: 0.04rem;\n  font-size: 0.13rem;\n  color: #898989;\n  letter-spacing: 0.005rem;\n}\n.card .card-content .right {\n  margin-top: 0.04rem;\n}\n.card .card-content .right .btn {\n  font-size: 0.13rem;\n  height: 0.28rem;\n  box-shadow: none;\n  letter-spacing: 0.005rem;\n}\n.card .card-content .right .btn.info {\n  margin-right: 0.03rem;\n  background-color: #dcdddd;\n  color: #a4a5a5;\n}\n.card .card-content .right .btn.has-buy {\n  font-size: 0.13rem;\n  border: 1px solid #dcdddd;\n}\n.card .card-content .right .btn.buy {\n  background-color: #fff798;\n  color: #595656;\n}"],sourceRoot:"webpack://"}])},380:function(t,n,e){var a=e(317);"string"==typeof a&&(a=[[t.id,a,""]]);e(2)(a,{});a.locals&&(t.exports=a.locals)},394:function(t,n,e){var a=e(331);"string"==typeof a&&(a=[[t.id,a,""]]);e(2)(a,{});a.locals&&(t.exports=a.locals)},423:function(t,n,e){e(394);var a=e(3)(e(195),e(524),null,null);t.exports=a.exports},425:function(t,n,e){e(380);var a=e(3)(e(197),e(510),"data-v-54175306",null);t.exports=a.exports},510:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return this.mealArr?e("div",{staticClass:"discount-container"},[e("ul",t._l(t.mealArr,function(t,n){return e("li",[e("v-card",{attrs:{data:t}})],1)}))]):t._e()},staticRenderFns:[]}},524:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card"},[e("my-image",{staticClass:"my-img fade",attrs:{imgUrl:t.data.imgUrl},nativeOn:{click:function(n){return t.clickDetailsHandle(n)}}}),t._v(" "),e("div",{staticClass:"card-content"},[e("div",{staticClass:"left"},[e("p",{staticClass:"name"},[t._v(t._s(t.data.name))]),t._v(" "),e("p",{staticClass:"slogan"},[t._v(t._s(t.data.slogan))])]),t._v(" "),e("div",{staticClass:"right"},[e("mt-button",{staticClass:"btn info",attrs:{size:"small",type:"default"},nativeOn:{click:function(n){return t.clickDetailsHandle(n)}}},[t._v("详情")]),t._v(" "),t.data.hasBuy?e("mt-button",{staticClass:"btn has-buy",attrs:{disabled:"",size:"small",type:"default"}},[t._v("已购买")]):e("mt-button",{staticClass:"btn buy",attrs:{size:"small",type:"default"},nativeOn:{click:function(n){return t.buyHandle(n)}}},[t._v("购买")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=18.f17c6695f079d63076a0.js.map