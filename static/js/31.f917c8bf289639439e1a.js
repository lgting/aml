webpackJsonp([31,50,52,53],{233:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(5),a=n(o),l=i(4),s=i(74),c=i(526),A=n(c);t.default={name:"ticket-list",data:function(){return{mealId:"",goodsArr:[]}},components:{ticketCell:A.default},mounted:function(){this.mealId=this.$route.params.lookMealId,this.getTicketsData()},methods:{cellClickHandle:function(e){if("1"==this.role.toString()||"6"==this.role.toString()){var t=e.currentTarget,i=t.getAttribute("cellindex"),n=this.goodsArr[i];"0"==n.state.toString()&&this.$router.push({name:"ticketQcode",params:{mealId:this.mealId,id:n.id,name:n.names,imgUrl:n.url}})}},getTicketsData:function(){var e=this;this.$http.post(this.path+"php/Route.php",{type:"couponlist",buyid:this.mealId}).then(function(t){var i=t.body,n=[];i.arr.forEach(function(t,i,o){var a=new Date(1e3*t.datefrom),l=(0,s.formatDate)(a,"yyyy-MM-dd");a=new Date(1e3*t.dateto);var c=(0,s.formatDate)(a,"yyyy-MM-dd"),A="";"1"==t.state.toString()&&(a=new Date(1e3*t.consumedate),A=(0,s.formatDate)(a,"yyyy-MM-dd")),n.push({id:t.cpid,names:t.cname,url:e.path+t.iconurl,starttm:l,endtm:c,dec:t.message,state:t.state.toString(),usetm:A})}),e.goodsArr=n}).catch(function(e){console.log(e)})}},computed:(0,a.default)({},(0,l.mapState)(["path","userid","role"]))}},262:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(5),a=n(o),l=i(4);t.default={name:"ticket-cell",data:function(){return{}},props:{goods:{type:Object,default:function(){return{url:"http://www.jubenxiong.com/aml/img/nx_1515661463680.png",names:"380美容套餐",dec:"",starttm:"2018-01-20",endtm:"2018-02-20",price:333,usetm:"",state:""}}}},components:{},activated:function(){},created:function(){},computed:(0,a.default)({},(0,l.mapState)(["role"])),methods:{}}},334:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,".ticket-list[data-v-48152bba]{width:100%}.ticket-list .ticket-cell[data-v-48152bba]{margin-bottom:.07rem;box-shadow:0 1px 0 rgba(66,73,92,.2)}","",{version:3,sources:["/./src/components/megoods/purchaseHistory/mealTicketList.vue"],names:[],mappings:"AACA,8BACE,UAAY,CACb,AACD,2CACE,qBAAuB,AACvB,oCAAyC,CAC1C",file:"mealTicketList.vue",sourcesContent:["\n.ticket-list[data-v-48152bba] {\n  width: 100%;\n}\n.ticket-list .ticket-cell[data-v-48152bba] {\n  margin-bottom: 0.07rem;\n  box-shadow: 0 1px 0px rgba(66,73,92,0.2);\n}"],sourceRoot:"webpack://"}])},371:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,".ticket-cell[data-v-e15fb3f8]{width:100%;position:relative}.ticket-cell .qcode-div[data-v-e15fb3f8]{position:absolute;right:12px;top:50%;transform:translateY(-50%)}.ticket-cell .qcode-div .icon-qcode[data-v-e15fb3f8]{font-size:30px;color:#42495c}.ticket-cell .qcode-div .icon-yishiyong1[data-v-e15fb3f8]{color:#8a8a8a;font-size:48px}.ticket-cell .qcode-div .icon-yiguoqi[data-v-e15fb3f8]{color:#999;font-size:50px}.ticket-cell .cell-info[data-v-e15fb3f8]{font-size:0;background-color:#fff;display:-ms-flexbox;display:flex;padding:13px 0;-ms-flex-align:center;align-items:center}.ticket-cell .cell-info .cell-info-left[data-v-e15fb3f8]{-ms-flex:0 0 74px;flex:0 0 74px;text-align:center}.ticket-cell .cell-info .cell-info-left .img-container[data-v-e15fb3f8]{width:56px;height:56px;display:inline-block}.ticket-cell .cell-info .cell-info-left .img-container .img[data-v-e15fb3f8]{position:relative;width:100%;height:100%;border-radius:3px}.ticket-cell .cell-info .cell-info-right[data-v-e15fb3f8]{-ms-flex:1;flex:1}.ticket-cell .cell-info .cell-info-right .name[data-v-e15fb3f8]{font-size:15px;font-weight:700;color:#42495c}.ticket-cell .cell-info .cell-info-right .dec[data-v-e15fb3f8]{padding:4px 0 2px;font-size:13px;color:#42495c;width:170px;line-height:15px}.ticket-cell .cell-info .cell-info-right .valid-time[data-v-e15fb3f8]{font-size:13px;color:#acacac}","",{version:3,sources:["/./src/components/public/ticketCell.vue"],names:[],mappings:"AACA,8BACE,WAAY,AACZ,iBAAmB,CACpB,AACD,yCACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AAGD,0BAA8B,CACvC,AACD,qDACE,eAAgB,AAChB,aAAe,CAChB,AACD,0DACE,cAAe,AACf,cAAgB,CACjB,AACD,uDACE,WAAY,AACZ,cAAgB,CACjB,AACD,yCACE,YAAe,AACf,sBAAuB,AAGvB,oBAAqB,AACrB,aAAc,AACd,eAAgB,AAGZ,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,yDAGM,kBAAmB,AACf,cAAe,AACvB,iBAAmB,CACpB,AACD,wEACE,WAAY,AACZ,YAAa,AACb,oBAAsB,CACvB,AACD,6EACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAmB,CACpB,AACD,0DAGM,WAAY,AACR,MAAQ,CACjB,AACD,gEACE,eAAgB,AAChB,gBAAiB,AACjB,aAAe,CAChB,AACD,+DACE,kBAAyB,AACzB,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,gBAAkB,CACnB,AACD,sEACE,eAAgB,AAChB,aAAe,CAChB",file:"ticketCell.vue",sourcesContent:["\n.ticket-cell[data-v-e15fb3f8] {\n  width: 100%;\n  position: relative;\n}\n.ticket-cell .qcode-div[data-v-e15fb3f8] {\n  position: absolute;\n  right: 12px;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n      -ms-transform: translate(0, -50%);\n          transform: translate(0, -50%);\n}\n.ticket-cell .qcode-div .icon-qcode[data-v-e15fb3f8] {\n  font-size: 30px;\n  color: #42495c;\n}\n.ticket-cell .qcode-div .icon-yishiyong1[data-v-e15fb3f8] {\n  color: #8a8a8a;\n  font-size: 48px;\n}\n.ticket-cell .qcode-div .icon-yiguoqi[data-v-e15fb3f8] {\n  color: #999;\n  font-size: 50px;\n}\n.ticket-cell .cell-info[data-v-e15fb3f8] {\n  font-size: 0px;\n  background-color: #fff;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 13px 0;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.ticket-cell .cell-info .cell-info-left[data-v-e15fb3f8] {\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 0 74px;\n      -ms-flex: 0 0 74px;\n          flex: 0 0 74px;\n  text-align: center;\n}\n.ticket-cell .cell-info .cell-info-left .img-container[data-v-e15fb3f8] {\n  width: 56px;\n  height: 56px;\n  display: inline-block;\n}\n.ticket-cell .cell-info .cell-info-left .img-container .img[data-v-e15fb3f8] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n}\n.ticket-cell .cell-info .cell-info-right[data-v-e15fb3f8] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.ticket-cell .cell-info .cell-info-right .name[data-v-e15fb3f8] {\n  font-size: 15px;\n  font-weight: 700;\n  color: #42495c;\n}\n.ticket-cell .cell-info .cell-info-right .dec[data-v-e15fb3f8] {\n  padding: 4px 0px 2px 0px;\n  font-size: 13px;\n  color: #42495c;\n  width: 170px;\n  line-height: 15px;\n}\n.ticket-cell .cell-info .cell-info-right .valid-time[data-v-e15fb3f8] {\n  font-size: 13px;\n  color: #acacac;\n}"],sourceRoot:"webpack://"}])},407:function(e,t,i){var n=i(334);"string"==typeof n&&(n=[[e.id,n,""]]);i(2)(n,{});n.locals&&(e.exports=n.locals)},446:function(e,t,i){var n=i(371);"string"==typeof n&&(n=[[e.id,n,""]]);i(2)(n,{});n.locals&&(e.exports=n.locals)},497:function(e,t,i){i(407);var n=i(3)(i(233),i(556),"data-v-48152bba",null);e.exports=n.exports},526:function(e,t,i){i(446);var n=i(3)(i(262),i(595),"data-v-e15fb3f8",null);e.exports=n.exports},556:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ticket-list"},e._l(e.goodsArr,function(t,n){return i("ticket-cell",{key:t.id,staticClass:"ticket-cell",attrs:{cellindex:n,goods:t},nativeOn:{click:function(t){return e.cellClickHandle(t)}}})}))},staticRenderFns:[]}},595:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ticket-cell"},["1"==e.role.toString()||"6"==e.role.toString()?i("div",{staticClass:"qcode-div"},[i("i",{directives:[{name:"show",rawName:"v-show",value:"0"==e.goods.state,expression:"goods.state=='0'"}],staticClass:"iconfont icon-qcode"}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"1"==e.goods.state,expression:"goods.state=='1'"}],staticClass:"iconfont icon-yishiyong1"}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"2"==e.goods.state,expression:"goods.state=='2'"}],staticClass:"iconfont icon-yiguoqi"})]):e._e(),e._v(" "),i("div",{staticClass:"cell-info"},[i("div",{staticClass:"cell-info-left"},[i("div",{staticClass:"img-container"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goods.url,expression:"goods.url"}],staticClass:"img"})])]),e._v(" "),i("div",{staticClass:"cell-info-right"},[i("p",{staticClass:"name"},[e._v(e._s(e.goods.names))]),e._v(" "),i("p",{staticClass:"dec"},[e._v(e._s(e.goods.dec))]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:"0"==e.goods.state,expression:"goods.state=='0'"}],staticClass:"valid-time"},[e._v("有效期:"+e._s(e.goods.starttm)+"至"+e._s(e.goods.endtm))]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:"1"==e.goods.state,expression:"goods.state=='1'"}],staticClass:"valid-time"},[e._v("使用于:"+e._s(e.goods.usetm))]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:"2"==e.goods.state,expression:"goods.state=='2'"}],staticClass:"valid-time"},[e._v("过期时间:"+e._s(e.goods.endtm))])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=31.f917c8bf289639439e1a.js.map